

# deleteSmallFile
清除录播产生的零碎文件，或其他小文件

win、linux跨平台，python3无需安装额外依赖包

# 使用说明

```bash
PS E:\PyProject\deleteSmallFile> python .\deleteSmallFile.py -h
usage: deleteSmallFile.py [-h] [-s SIZE] [-t WAIT] [-y] work_dir                                                 
                                                                                                                 
Delete the small file generated by the error of the recording software. It is recommended to execute periodically
                                                                                                                 
positional arguments:                                                                                            
  work_dir              path. If the directory include space,the "" will be necessary.

options:
  -h, --help            show this help message and exit
  -s SIZE, --size SIZE  int. Default 3145728 byte, file volume which less than this args will be removed.
  -t WAIT, --wait WAIT  int. Default 60 s, waiting for normal file volume to exceed threshold.
  -y                    skip delete confirmation.
```



| 参数       | 类型 | 默认值  | 说明                                   |
| ---------- | ---- | ------- | -------------------------------------- |
| -h         |      |         | 参数说明                               |
| -s, --size | int  | 3145728 | 小于此字节的文件会被删除               |
| -t, --wait | int  | 60      | 等待正常录播文件size超出阈值，防止误删 |
| -y         |      |         | 跳过删除确认                           |

# 使用示例
![Snipaste_2022-06-03_21-59-56](https://user-images.githubusercontent.com/33590269/171870253-a3d14b43-7042-4924-a28a-0aad382c0444.png)

![Snipaste_2022-06-03_22-03-22](https://user-images.githubusercontent.com/33590269/171870265-7b9e96b4-fa33-4afe-87ec-f26afa71ed77.png)

![Snipaste_2022-06-03_22-03-46](https://user-images.githubusercontent.com/33590269/171870269-54e6ec0a-4818-4c1e-9f83-ff8cfd156e21.png)

### tips

.sh和.py版本独立，都是单文件可单独使用。python版完成度更高一些。

win10下搭配 `计划任务` 使用，linux下搭配 `cron` 使用，不再另作说明。
