

# deleteSmallFile
清除录播产生的零碎文件，或其他小文件

win、linux跨平台，python3无需安装额外依赖包

# 使用说明

```shell
usage: deleteSmallFile.py [-h] [-s SIZE] [-t WAIT] [--suffix SUFFIX] [-y] work_dir                               
                                                                                                                 
Delete the small file generated by the error of the recording software. It is recommended to execute periodically
                                                                                                                 
positional arguments:                                                                                            
  work_dir              path. If the directory include space,the "" will be necessary.                           
                                                                                                                 
options:                                                                                                         
  -h, --help            show this help message and exit                                                          
  -s SIZE, --size SIZE  int. Default 3145728 byte. File volume which less than this args will be removed.        
  -t WAIT, --wait WAIT  int. Default 60 s. Waiting for normal file volume to exceed threshold.
  --suffix SUFFIX       str. Default ".flv". Only files with this suffix will be deleted.
  -y                    Skip delete confirmation.
```



| 参数       | 类型 | 默认值  | 说明                                   |
| ---------- | ---- | ------- | -------------------------------------- |
| -h         |      |         | 参数说明                               |
| -s, --size | int  | 3145728 | 小于此字节的文件会被删除               |
| -t, --wait | int  | 60      | 等待正常录播文件size超出阈值，防止误删 |
| --suffix   | str  | .flv    | 仅该后缀的文件会被删除                 |
| -y         |      |         | 跳过删除确认                           |

# 使用示例
![Snipaste_2022-06-03_22-45-49](https://user-images.githubusercontent.com/33590269/171878014-3a5bf189-5c18-4833-a8be-8b6edceaa043.png)

![Snipaste_2022-06-03_22-48-13](https://user-images.githubusercontent.com/33590269/171878026-08eb6526-5879-4ef8-86fa-b76f7fa85421.png)

![Snipaste_2022-06-03_22-48-25](https://user-images.githubusercontent.com/33590269/171878033-dfeceeda-df3f-4a1a-88cb-d6fbee32c570.png)

## tips

.sh和.py版本独立，都是单文件可单独使用。python版完成度更高一些。

win10下搭配 `计划任务` 使用，linux下搭配 `cron` 使用，不再另作说明。
